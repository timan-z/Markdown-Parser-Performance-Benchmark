<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>rust_wasm_markdown example</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <h1>TESTING MY RUST-POWERED MARKDOWN PARSER!!!</h1>
    <!-- So, what I want here is a just a simple text input box with a button.
    And then beneath it is another box but it's not interactable and there is no text
    (this is my render panel for making sure that the RUST parser works good).
    NOTE: Do not bother at all with styling here. Remember what I'm building; this is an add-on feature for my CMDE project. -->

    <!-- 1. The Text(well, Markdown)-Input Box: -->
    <form id="mdInputWrapper">
      <textarea id="markdownInput" class="displayBox"></textarea>
      <button id="renderBtn" type="button">Click to Render</button>
      <button id="largeMDTextBtn" type="button">Click to test w/ large Markdown File</button>
      

      <button id="testMarkedBtn" type="button"">Test Marked Button</button>


    </form>

    <!-- 2. The Render Box: -->
    <div id="renderBox"> ... </div>

    <script type="module">
      import init, { greet, parse_markdown } from "../pkg/rust_wasm_markdown.js";
      //import MarkdownIt from "markdown-it";
      //import markdownItTaskLists from "markdown-it-task-lists";

      init().then(() => {
        greet("Welcome to this benchmark webpage for testing markdown parsing speed between RUST's Comrak parser vs marked, marked-it.");
      });
      
      // Event listener for the renderBtn:
      document.getElementById("renderBtn").addEventListener("click", () => {
        // This is where I will call the RUST, WASM or whatever functions to render the HTML (From the RUST parser):
        const mdInput = document.getElementById("markdownInput").value;
        console.log("DEBUG: The value of mdInput => ", mdInput);
        console.log("TO-DO: Insert function call for the RUST-powered parser (or whatever).");

        const htmlOutput = parse_markdown(mdInput);
        document.getElementById("renderBox").innerHTML = htmlOutput;
      });

      // Event listener for the largeMDTextBtn:
      document.getElementById("largeMDTextBtn").addEventListener("click", () => {
        //const bigMDText = "# Title\n" + ("**Bold text** *Italics Text* ")
        console.log("I'm fat.");
      });
    </script>

    <script type="module" src="./utility/benchmark.js"></script>

  </body>
</html>
